import React from 'react';
import styled, { keyframes } from 'styled-components';
import { v4 } from 'uuid';

const rotateAnimation = keyframes`
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
`;

const StyledSpinner = styled.svg`
  animation: ${rotateAnimation} 2s linear infinite;
`;

const ConnectionSpinner = (props: React.SVGProps<SVGSVGElement>) => {
  const uuid = v4();
  return (
    <StyledSpinner
      xmlns="http://www.w3.org/2000/svg"
      width="17"
      height="16"
      viewBox="0 0 17 16"
      fill="none"
      {...props}
    >
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M9.52453 4C9.52453 4.31559 9.26869 4.57143 8.9531 4.57143C8.63751 4.57143 8.38167 4.31559 8.38167 4V0.571429C8.38167 0.255837 8.63751 0 8.9531 0C9.26869 0 9.52453 0.255837 9.52453 0.571428V4ZM7.23891 5.03082C7.51222 4.87303 7.60586 4.52355 7.44807 4.25024L5.73378 1.28101C5.57599 1.0077 5.22651 0.914056 4.9532 1.07185C4.67989 1.22965 4.58624 1.57913 4.74404 1.85244L6.45832 4.82167C6.61612 5.09498 6.9656 5.18862 7.23891 5.03082ZM5.77458 5.50525C6.04789 5.66304 6.14153 6.01252 5.98374 6.28583C5.82594 6.55914 5.47646 6.65278 5.20315 6.49499L2.23392 4.7807C1.96061 4.62291 1.86697 4.27343 2.02476 4.00012C2.18256 3.72681 2.53204 3.63316 2.80535 3.79096L5.77458 5.50525ZM5.52455 8.00013C5.52455 7.68454 5.26872 7.4287 4.95312 7.4287H1.52455C1.20896 7.4287 0.953125 7.68454 0.953125 8.00013C0.953125 8.31572 1.20896 8.57156 1.52455 8.57156H4.95313C5.26872 8.57156 5.52455 8.31572 5.52455 8.00013ZM5.20327 9.50543C5.47658 9.34764 5.82606 9.44128 5.98385 9.71459C6.14165 9.9879 6.048 10.3374 5.77469 10.4952L2.80546 12.2095C2.53215 12.3673 2.18267 12.2736 2.02488 12.0003C1.86708 11.727 1.96073 11.3775 2.23404 11.2197L5.20327 9.50543ZM7.23874 10.9693C6.96543 10.8115 6.61595 10.9051 6.45815 11.1784L4.74387 14.1476C4.58607 14.4209 4.67971 14.7704 4.95302 14.9282C5.22633 15.086 5.57581 14.9924 5.73361 14.7191L7.44789 11.7498C7.60569 11.4765 7.51205 11.127 7.23874 10.9693ZM8.95292 11.4287C8.63732 11.4287 8.38149 11.6845 8.38149 12.0001V15.4287C8.38149 15.7443 8.63732 16.0001 8.95292 16.0001C9.26851 16.0001 9.52435 15.7443 9.52435 15.4287V12.0001C9.52435 11.6845 9.26851 11.4287 8.95292 11.4287ZM10.6674 5.03064C10.9407 5.18843 11.2901 5.09479 11.4479 4.82148L13.1622 1.85225C13.32 1.57894 13.2264 1.22946 12.9531 1.07166C12.6798 0.913868 12.3303 1.00751 12.1725 1.28082L10.4582 4.25005C10.3004 4.52336 10.394 4.87284 10.6674 5.03064ZM12.7028 6.4947C12.4295 6.65249 12.08 6.55885 11.9222 6.28554C11.7644 6.01223 11.8581 5.66275 12.1314 5.50496L15.1006 3.79067C15.3739 3.63287 15.7234 3.72652 15.8812 3.99983C16.039 4.27314 15.9453 4.62262 15.672 4.78041L12.7028 6.4947ZM12.3816 8C12.3816 8.31559 12.6374 8.57143 12.953 8.57143H16.3816C16.6972 8.57143 16.953 8.31559 16.953 8C16.953 7.68441 16.6972 7.42857 16.3816 7.42857H12.953C12.6374 7.42857 12.3816 7.68441 12.3816 8ZM12.1315 10.4946C11.8582 10.3368 11.7646 9.98737 11.9224 9.71406C12.0801 9.44075 12.4296 9.3471 12.7029 9.5049L15.6722 11.2192C15.9455 11.377 16.0391 11.7265 15.8813 11.9998C15.7235 12.2731 15.3741 12.3667 15.1007 12.2089L12.1315 10.4946ZM10.6673 10.9693C10.3939 11.1271 10.3003 11.4766 10.4581 11.7499L12.1724 14.7191C12.3302 14.9924 12.6797 15.0861 12.953 14.9283C13.2263 14.7705 13.3199 14.421 13.1621 14.1477L11.4478 11.1785C11.29 10.9052 10.9406 10.8115 10.6673 10.9693Z"
        fill={`url(#paint_${uuid})`}
      />
      <defs>
        <radialGradient
          id={`paint_${uuid}`}
          cx="0"
          cy="0"
          r="1"
          gradientUnits="userSpaceOnUse"
          gradientTransform="translate(8.95312 8) scale(8)"
        >
          <stop offset="0.669733" stopColor="white" />
          <stop offset="0.716307" stopColor="white" stopOpacity="0.01" />
        </radialGradient>
      </defs>
    </StyledSpinner>
  );
};

export default ConnectionSpinner;
